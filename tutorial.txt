--------------- RAIZEN --------------------
---------- Ray Aditya Rahman --------------
----------- STP PUI-SKO ITS ---------------
--- Institut Teknologi Sepuluh Nopember ---
-------------- Indonesia ------------------

- mulai -

1. clone repo terbaru dari dashboardpy_motorcycle ini
$ git clone --branch master https://github.com/XRayrahman/dashboardpy_motorcycle.git

2. install pip untuk instalasi library python
$ sudo apt install python3-pip
$ sudo apt install python3-setuptools git-core python3-dev
$ sudo apt install libsdl2-dev libsdl2-image-dev libsdl2-mixer-dev libsdl2-ttf-dev

3. install segala library yang digunakan, catatan : library kivy dan speedmeter harus diinstall secara manual dengan clone repo
$ cd path/to/dashboardpy_motorcycle
$ pip install -r requirement.txt

4. instalasi library speedmeter
$ cd ~
$ sudo chmod 777 /usr/local/lib/python3.9/dist-packages/
$ git clone https://github.com/kivy-garden/speedmeter.git
$ cd path/to/speedmeter
$ python3 setup.py install
$ cd ..

5.a. untuk penggunaan *tanpa* program estimasi, buat folder api dan file kosongan api-key.txt
$ cd path/to/dashboardpy_motorcycle
$ mkdir .key
$ touch .key/api-key.txt

5.b. untuk penggunaan *dengan* program estimasi, buat API token pada OpenRouteService API dan masukkan kedalam api-key.txt
$ nano .key/api-key.txt

6. program siap untuk dijalankan
$ python3 main.py

7.a. Agar program dapat berjalan otomatis saat booting, tambahkan ke script auto-start .desktop
$ cp dashboard.sh ~
$ cd 
$ chmod +x dasboard.sh

7.b. Setelah itu .desktop dapat di setting melalui GUI atau terminal command
GUI : settings -> session and startup -> set command ke dashboard.sh yang telah dibuat 
atau
Term : $ cp dasboard.desktop ~/.config/autostart/

8. Lakukan reboot pada OS
$ sudo reboot

9. Untuk mempercepat proses booting, disable segala service yang tidak digunakan
$ sudo systemctl disable ssh
$ sudo systemctl disable chrony
$ sudo systemctl disable cups
$ sudo systemctl disable bluetooth
$ sudo systemctl disable blueman 
- ramlog / dari file
- nobootsplash-time / dari file

10.a. Orangepi zero 2 user, edit nilai yang ada pada file /boot/orangepiEnv.txt seperti berikut
verbosity=1
console=serial

10.b. Jangan lupa immute file orangepiEnv.txt untuk tidak berubah
$ sudo chattr +i /boot/orangepiEnv.txt

11. invert display dan sesuaikan resolusi layar jika diperlukan 
GUI : settings -> display

- selesai -

a. jika terjadi error path not found, sesuaikan kembali path yang ada pada script dasboard.sh dan dashboard.desktop
$ nano ~/dasboard.sh
$ nano ~/.local/share/applications/dashboard.desktop
